(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={controls:"Controls_controls__1dLov",input:"Controls_input__3Gw_v",button:"Controls_button__28rMY"}},13:function(e,t,a){e.exports={balance:"Balance_balance__eKw7i",arrowGreen:"Balance_arrowGreen__3umpR",arrowRed:"Balance_arrowRed__23Zs-"}},14:function(e,t,a){e.exports={app:"ImageFinderApp_app__y4G4b",loadMoreBTN:"ImageFinderApp_loadMoreBTN__1mBw7"}},15:function(e,t,a){e.exports={gallery:"Gallery_gallery__1QAff",image:"Gallery_image__1UUgh",modalBTN:"Gallery_modalBTN__1zkJv"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__E1g9G",modal:"Modal_modal__B-fdk"}},27:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3M7LE"}},29:function(e,t,a){e.exports={dashboard:"Dashboard_dashboard__1tZU9"}},30:function(e,t,a){e.exports=a(64)},36:function(e,t,a){},37:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),l=(a(36),a(37),a(9)),s=a(12),i=a(2),m=a(3),u=a(5),p=a(4),d=a(6),h=a(14),f=a.n(h),b=a(27),g=a.n(b),y=function(e){var t=e.value,a=e.onChange,n=e.onSubmit;return r.a.createElement("form",{className:g.a.searchForm,onSubmit:n},r.a.createElement("input",{name:"searchQuery",value:t,type:"text",autoComplete:"off",placeholder:"Search images...",onChange:a}))},_=a(15),v=a.n(_),E=a(7),w=a.n(E),N=function(e){var t=e.webformatURL,a=e.likes,n=e.views,o=e.comments,c=e.downloads,l=e.largeImageURL,s=e.showLargeImage;return r.a.createElement("div",{className:w.a.photoCard},r.a.createElement("img",{src:t,alt:""}),r.a.createElement("div",{className:w.a.stats},r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),a),r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),n),r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),o),r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),c)),r.a.createElement("button",{type:"button",className:w.a.fullscreenButton,onClick:function(){return s(l)}},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},S=a(16),O=a.n(S),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={},a.backdropRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleOverlayClick=function(e){var t=a.backdropRef.current;t&&e.target!==t||a.props.onClose()},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("button",{type:"button",className:O.a.overlay,ref:this.backdropRef,onClick:this.handleOverlayClick},r.a.createElement("div",{className:O.a.modal},e))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1,largeImageURL:""},a.openModal=function(e){a.setState({isModalOpen:!0,largeImageURL:e})},a.closeModal=function(){return a.setState({isModalOpen:!1})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items,a=this.state,o=a.isModalOpen,c=a.largeImageURL;console.log("==============");var l=t.reduce(function(e,t){return e[t.id]=Object(n.createRef)(),e},{});return t.length>12&&(console.log(t[2].id),console.log(l[t[2]])),console.log("refs:"),console.log(l),console.log("items.length: ".concat(t.length)),r.a.createElement(n.Fragment,null,o&&r.a.createElement(I,{onClose:this.closeModal},r.a.createElement("img",{src:c,alt:"",className:v.a.image})),r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("button",{type:"button",onClick:function(){return t=e.id,l[t].current.scrollIntoView({behavior:"smooth",block:"start"});var t}},"Scroll Item ",e.id," Into View"))})),t.length>0&&r.a.createElement("ul",{className:v.a.gallery},t.map(function(t){return r.a.createElement("li",{key:t.id,ref:l[t.id]},r.a.createElement(N,Object.assign({},t,{showLargeImage:e.openModal})))})))}}]),t}(n.Component),k=a(28),T=a.n(k),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return T.a.get("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=").concat(a,"&key=").concat("12847803-cdf3f3013dcee3c78b7ed9bc8"))},x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={images:[],error:null,searchQuery:"",pageNumber:0},a.handleSubmit=function(e){var t=a.state,n=t.searchQuery,r=t.pageNumber;e.preventDefault();var o=r+1;a.setState({pageNumber:o}),a.fetchImages(n,o)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(s.a)({},n,r))},a.fetchImages=function(e,t){j(e,t).then(function(e){var t=e.data;return a.setState(function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(t.hits))}})}).catch(function(e){return a.setState({error:e})})},a.ref=r.a.createRef(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.images,a=e.error,n=e.searchQuery;return r.a.createElement("div",{className:f.a.app},r.a.createElement(y,{value:n,onChange:this.handleChange,onSubmit:this.handleSubmit}),a&&r.a.createElement("p",null,"Something goes wrong: ",a.message),t.length>0&&r.a.createElement(C,{items:t}),r.a.createElement("button",{type:"button",className:f.a.loadMoreBTN,onClick:this.handleSubmit,ref:this.ref},"Load more"),r.a.createElement("a",{href:"http://www.pixabay.com"},"pixabay.com"))}}]),t}(n.Component),B=a(13),D=a.n(B),M=function(e){var t=e.incomeTotal,a=e.expenseTotal,n=e.balance;return r.a.createElement("section",{className:D.a.balance},r.a.createElement("span",null,r.a.createElement("span",{className:D.a.arrowGreen},"\u2b06"),t,"$"),r.a.createElement("span",null,r.a.createElement("span",{className:D.a.arrowRed},"\u2b07"),a,"$"),r.a.createElement("span",null,"Balance: ",n,"$"))};M.defaultProps={incomeTotal:0,expenseTotal:0,balance:0};var R=M,L=a(10),J=a.n(L),G=function(e){var t=e.changeInputValue,a=e.deposit,n=e.withdraw,o=e.inputValue;return r.a.createElement("section",{className:J.a.controls},r.a.createElement("input",{type:"number",name:"transactionInput",onChange:t,value:o,className:J.a.input,placeholder:"0"}),r.a.createElement("button",{type:"button",name:"deposit",onClick:a,className:J.a.button},"Deposit"),r.a.createElement("button",{type:"button",name:"withdraw",onClick:n,className:J.a.button},"Withdraw"))};G.defaultProps={inputValue:""};var U=G,P=a(8),V=a.n(P),A=function(e){var t=e.transactions;return r.a.createElement("table",{className:V.a.history},r.a.createElement("thead",null,r.a.createElement("tr",{className:V.a.header},r.a.createElement("th",null,"Transaction"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id,className:V.a.row},r.a.createElement("td",{className:V.a.transactionTD},e.type),r.a.createElement("td",{className:V.a.amountTD},e.amount,"$"),r.a.createElement("td",{className:V.a.dateTD},e.date))})))},F=a(29),H=a.n(F),Q=a(55),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={history:[],balance:0,transaction:{id:"",type:"",amount:"",date:""},income:0,expense:0},a.updateInputValue=function(e){var t=e.target,n=t.name,r=t.value;r>=0&&a.setState(Object(s.a)({},n,Number(r)))},a.dateNew=function(){return(new Date).toLocaleString()},a.transactionSetState=function(e,t){a.setState({transaction:{id:Q.generate(),type:e,amount:t,date:a.dateNew()}})},a.historySetState=function(e,t,n){a.setState({history:[].concat(Object(l.a)(e),[{id:Q.generate(),type:t,amount:n,date:a.dateNew()}])})},a.setBalanceIncome=function(e){a.setState(function(t){return{balance:t.balance+e,income:t.income+e}})},a.setBalanceExpense=function(e){a.setState(function(t){return{balance:t.balance-e,expense:t.expense+e}})},a.setTransaction=function(e){var t=e.target,n=a.state,r=n.balance,o=n.history,c=n.transactionInput,l=t.name;"deposit"===l&&c>0&&(a.setBalanceIncome(c),a.transactionSetState(l,c),a.historySetState(o,l,c)),"withdraw"===l&&r>=c&&c>0&&(a.setBalanceExpense(c),a.transactionSetState(l,c),a.historySetState(o,l,c)),"withdraw"===l&&r<c&&alert("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!"),c<=0&&alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!")},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("history")&&this.setState({history:JSON.parse(localStorage.getItem("history")),balance:JSON.parse(localStorage.getItem("balance")),income:JSON.parse(localStorage.getItem("income")),expense:JSON.parse(localStorage.getItem("expense"))})}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.history,a=e.expense,n=e.income,r=e.balance;t&&(localStorage.setItem("history",JSON.stringify(t)),localStorage.setItem("expense",JSON.stringify(a)),localStorage.setItem("income",JSON.stringify(n)),localStorage.setItem("balance",JSON.stringify(r)))}},{key:"render",value:function(){var e=this.state,t=e.income,a=e.expense,n=e.history,o=e.balance,c=e.transaction,l=e.transactionInput;return r.a.createElement("div",{className:H.a.dashboard},r.a.createElement(U,{value:c.amount,inputValue:l,changeInputValue:this.updateInputValue,deposit:this.setTransaction,withdraw:this.setTransaction}),r.a.createElement(R,{incomeTotal:t,expenseTotal:a,balance:o}),r.a.createElement(A,{transactions:n}))}}]),t}(n.Component),z=function(){return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(x,null))};c.a.render(r.a.createElement(z,null),document.getElementById("root"))},7:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__1NX_e",stats:"PhotoCard_stats__3Y-Ae",statsItem:"PhotoCard_statsItem__dvdQm",fullscreenButton:"PhotoCard_fullscreenButton__3HGIC"}},8:function(e,t,a){e.exports={history:"TransactionHistory_history__3aCNz",transactionTD:"TransactionHistory_transactionTD__3xDvf",amountTD:"TransactionHistory_amountTD__2lZYw",dateTD:"TransactionHistory_dateTD__38QnS",header:"TransactionHistory_header__jKrax",row:"TransactionHistory_row__3Zqqm"}}},[[30,1,2]]]);
//# sourceMappingURL=main.def439c4.chunk.js.map